<aura:component controller="afl_ArticleFeedbackLgnConfigCtrl" extends="c:afl_abstract">
    <!-- Attributes -->
    <aura:attribute name="hashtagValue" type="String" description="Knowledge Configuration object hashtag value"/>
    <aura:attribute name="allValues" type="List" default="[]"/>
    <aura:attribute name="allPositiveValues" type="List" default="[]"/>
    <aura:attribute name="allNegativeValues" type="List" default="[]"/>
    <aura:attribute name="feedbackTypeOptions" type="List" default="[
        {'label': 'Positive', 'value': 'positiveOption'},
        {'label': 'Negative', 'value': 'negativeOption'}]"
    />
    <aura:attribute name="feedbackTypeValue" type="List" default="positiveOption"/>


    <!-- Handlers -->
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>

    <lightning:layout horizontalAlign="spread">
        <lightning:layoutItem flexibility="grow" size="12">
            <article class="slds-card">
                <div class="slds-card__header slds-grid">
                    <header class="slds-media slds-media_center slds-has-flexi-truncate">
                        <div class="slds-media__body">
                            <div class="slds-page-header">
                                <div class="slds-media mainTitleSLDS">
                                    <div class="slds-media__figure">
                                        <lightning:icon iconName="custom:custom108" class="slds-icon" alternativeText="icon"/>
                                    </div>

                                    <div class="slds-media__body">
                                        <h1 class="slds-page-header__title slds-truncate slds-align-middle" title="Rohde Corp - 80,000 Widgets">{!$Label.c.Setup_page_title}</h1>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </header>
                </div>

                <div class="slds-card__body slds-card__body_inner slds-m-around--medium">
                    <lightning:layoutItem size="8">
                        <div class="slds-form slds-form_horizontal">
                            <div class="slds-form-element">
                                <h2 class="slds-card__header-title titleSLDS">
                                    {!$Label.c.Hashtag_settings_title}
                                </h2>
                            </div>
                        </div>
                    </lightning:layoutItem>

                    <lightning:layoutItem size="8">
                        <div class="slds-form slds-form_horizontal">
                            <div class="slds-form-element">
                                <ui:outputText value="Hashtag" class="labelSLDS"/>
                                <p class="required">*</p>
                                <lightning:input aura:id="inputHashtag" placeholder="#ArticleFeedback" value="{!v.hashtagValue}" required="true" maxlength="99"></lightning:input>
                            </div>
                        </div>
                    </lightning:layoutItem>

                    <lightning:layoutItem size="10">
                        <lightning:button label="{!$Label.c.Save_button}" class="slds-align--absolute-center slds-m-bottom_large slds-m-top_small" variant="brand" onclick="{!c.updateHashtag}"/>
                    </lightning:layoutItem>

                    <lightning:layoutItem size="8">
                        <div class="slds-form slds-form_horizontal">
                            <div class="slds-form-element">
                                <h2 class="slds-card__header-title titleSLDS slds-m-top_large">
                                    {!$Label.c.Setup_picklist_values_title}
                                </h2>
                            </div>
                        </div>
                    </lightning:layoutItem>

                    <lightning:layoutItem size="8">
                        <div class="slds-form slds-form_horizontal">
                            <div class="slds-form-element">
                                <ui:outputText value="{!$Label.c.Add_value_to_Feedback_picklist}" class="labelSLDS"/>
                                <lightning:input aura:id="picklistValue" placeholder="{!$Label.c.Add_value_to_Feedback_picklist_placeholder}" maxlength="150"></lightning:input>
                            </div>
                        </div>
                    </lightning:layoutItem>

                    <lightning:layout multipleRows="true">
                        <lightning:layoutItem size="10">
                            <lightning:button label="{!$Label.c.Add_button}" class="slds-align--absolute-center slds-m-bottom_large" variant="brand" onclick="{!c.addPicklistValue}"/>
                        </lightning:layoutItem>
                    </lightning:layout>

                    <lightning:layoutItem size="12">
                        <div class="slds-form slds-form_horizontal">
                            <div class="slds-form-element">
                                <h2 class="slds-card__header-title secondTitleSLDS displayInline">
                                    {!$Label.c.Feedback_reason_picklist}
                                </h2>
                                <p class="displayInline marginLeft">{!$Label.c.Feedback_reason_picklist_explanation}</p>
                            </div>
                        </div>
                    </lightning:layoutItem>

                    <lightning:layout multipleRows="true">
                        <lightning:layoutItem size="8">
                            <div class="slds-form slds-form_horizontal">
                                <ui:inputSelect multiple="true" class="boxBorderSLDS slds-size_8-of-12 slds-m-top_xx-small" aura:id="selectDelete" >
                                    <aura:iteration items="{!v.allValues}" var="deleteValue">
                                        <ui:inputSelectOption text="{!deleteValue.value}" label="{!deleteValue.label}"/>
                                    </aura:iteration>
                                </ui:inputSelect>
    
                            </div>
                        </lightning:layoutItem>
                        
                        <lightning:layoutItem size="10">
                            <lightning:button label="{!$Label.c.Delete_button}" class="slds-align--absolute-center slds-m-top_small" variant="brand" onclick="{!c.deleteValue}"/>
                        </lightning:layoutItem>
                    </lightning:layout>

                    <lightning:layoutItem size="8">
                        <div class="slds-form slds-form_horizontal">
                            <div class="slds-m-top_large">
                                <h2 class="slds-card__header-title titleSLDS">
                                    {!$Label.c.Configure_values_to_be_displayed}
                                    <lightning:helptext class="iconStyle marginLeft" content="{!$Label.c.Configure_values_helptext}"/>
                                </h2>
                            </div>
                        </div>
                    </lightning:layoutItem>
                    
                    <lightning:layoutItem size="8">
                        <div class="slds-form slds-form_horizontal">
                            <div class="slds-form-element">
                                <lightning:dualListbox aura:id="positiveValues" name="positiveValues"  label= ""
                                    sourceLabel="{!$Label.c.Available_values_label}"
                                    selectedLabel="{!$Label.c.Selected_positive_values_label}"
                                    options="{!v.allValues}"
                                    value="{!v.allPositiveValues}"
                                    onchange="{!c.handlePositiveChange}"
                                />
                            </div>
                        </div>
                    </lightning:layoutItem>

                    <lightning:layoutItem size="8">
                        <div class="slds-form slds-form_horizontal">
                            <div class="slds-form-element">
                            <lightning:dualListbox aura:id="negativeValues" name="negativeValues"  label= ""
                                    sourceLabel="{!$Label.c.Available_values_label}"
                                    selectedLabel="{!$Label.c.Selected_negative_values_label}"
                                    options="{!v.allValues}"
                                    value="{!v.allNegativeValues}"
                                    onchange="{!c.handleNegativeChange}"
                                />
                            </div>
                        </div>                        
                    </lightning:layoutItem>
                    <lightning:layoutItem size="10">
                        <div class="slds-form slds-form_horizontal">
                            <lightning:button label="{!$Label.c.Save_button}" aura:id="saveButton" class="slds-align--absolute-center slds-m-bottom_xx-large slds-m-top_small" variant="brand" onclick="{!c.saveValueOrder}"/>
                        </div>
                    </lightning:layoutItem>
                </div>
            </article>
        </lightning:layoutItem>
    </lightning:layout>
</aura:component>